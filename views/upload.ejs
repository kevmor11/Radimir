<!DOCTYPE html>
<html>
  <head>
    <% include ../partials/head %>
  </head>
  <body>
    <% include ../partials/navbar %>
    <div class="upload-form">
      <form action="/upload" method="post" enctype="multipart/form-data">
        <h3 class="form-title">upload an image to an album</h3>

        <div class="form-group">
          <label for="image">image: *</label>
          <input class="form-control" type="file" name="image" id="image" required />
        </div>
        <div class="form-group">
          <label for="title">album: *</label>
          <select class="form-control" name="album" required >
            <option disabled selected value> -- select an album -- </option>
             <!-- For each album, render an <option> tag for the dropdown  -->
            <% albums.forEach((album, i) => { %>
              <option value="<%= album.id %>"><%= album.title %></option>
            <% }); %>
          </select>
        </div>
        <div class="form-group">
          <label for="title">title:</label>
          <input class="form-control" type="text" name="title" />
        </div>
        <div class="form-group">
          <label for="description">description:</label>
          <textarea class="form-control" id="input-description" name="description"></textarea><br />
          <small>* = required field</small><br/>
        </div>
        <button class="btn btn-primary" type="submit" style="width: 10em; margin-left: 18em" value="Submit">upload</button>
        <br/>
        <br/>
        <small style="display: block;"><strong>Note:</strong> Albums will not appear unless a cover image is chosen</small>
        <small style="display: block;"><strong>Note:</strong> Cover images will appear first in the gallery, otherwise images will appear in the order you upload them.</small><br/>
      </form>
    </div>
  </body>
</html>
